---
layout:     post
title:      从刷机开始学ARM
subtitle:   arm
date:       2019-04-08
author:     BY 孟超
header-img: img/arm.jpg
catalog: 	 true
tags:
    - arm
---

# 1、ARM刷机

刷机有很多种方法，这里介绍一种最简单的方法，就是fastboot刷机。

以后要是不小心把开发板刷成砖头了，可以用dnw的方式双击，这种方法可以解决一切问题。



我用的是九鼎的s5pv210的开发板。以下都是用这个开发板讲解的。

①安装USB转串口线的驱动

我们在刷机的时候需要看输出的信息，需要用串口进行打印输出信息。我们现在的电脑都很少有用哪种DB9接口了，都是USB接口，所以我们需要安装USB转串口驱动。

使用secureCRT进行观看打印的信息，也可以使用MobaXterm进行查看，前一个需要破解，后面的有个人免费的绿色版。

在我那个开发板中串口只能使用串口2，因为是使用这个串口进行信息输出。

**破坏iNand中的bootloader以从SD2启动**

在进入linux系统之后的命令行中写下这两句即可破坏

​	busybox dd if=/dev/zero of=/dev/block/mmcblk0 bs=512 seek=1 count=1 conv=sync

​	sync

破坏板载iNand的bootloader后，不插外部SD卡，启动时串口得到：SD checksum Error



**制作启动SD卡（其实就是烧录uboot到SD卡中）**

有2种烧写方法：一种是在windows中用刷卡工具去制作启动SD卡；另一种是在linux中用dd命令。

制作完SD后将SD卡插入开发板SD2通道（注意不是SD3），然后开机就可以进入uboot界面了。在uboot开机自动启动倒数3秒之内迅速按下电脑回车键，打断自动启动。（否则会自动启动iNand中的android）。



**fastboot介绍**

fastboot是uboot中用来快速下载镜像的一个命令，fastboot同时还是一个windows上的软件。
fastboot下载时要注意1：fastboot是使用USB线进行数据传输的，所以fastboot执行之前要先连接开发板和主机之间的usb线。
fastboot下载时要注意2：需要安装驱动。



**fastboot驱动**

fastboot需要安装驱动，对应的安装上即可。



**fastboot常用命令**

fastboot devices		       命令用来查看当前连接的设备。（我们开发板看到的是：SMDKC110-01）
fastboot flash xxx		    命令用来烧录的
fastboot reboot			命令用来重启系统





**使用fastboot烧录android4.0.4镜像**



先在uboot的界面输入fastboot，然后就可以了，可以设置uboot的参数

uboot的参数设置：set bootcmd 'movi read kernel 30008000; bootm 30008000'（默认就是这个，不用设置也行）



在cmd下使用以下三个命令来完成烧录
fastboot flash bootloader android4.0/uboot.bin		烧uboot
fastboot flash kernel android4.0/zImage-android		烧linux kernel
fastboot flash system android4.0/x210.img			烧android rom



后面的对应的文件夹。

刷机完成。